@model ST10084225_FarmCentral_MVC.Models.ViewModels.ProductViewModel
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "Product Index";
}

<body>
    <div class="card">
        <div class="card-header">
            <div class="box">
                    <h1>Available Products</h1>
                <div>
             @if (SignInManager.IsSignedIn(User) & User.IsInRole("Farmer"))
            {
                <p>
                    <a class="btn btn-success float-end" asp-controller="Products" asp-action="Create">Create New</a>
                </p>
            }
                </div>
                <partial name="_SearchPartial" model="Model.Filter"/>
            </div>            
        </div>
    </div>
    <partial name="_ProductListPartial" model="Model.Products"/>

</body>